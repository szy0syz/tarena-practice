<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <style>
        #target {
            background: blueviolet;
            width: 200px;
            height: 200px;
        }

        #source {
            width: 160px;
            height: 100px;
            float: right;
            color: red;
            text-align: center;
            border: 1px solid #cccccc;
        }
    </style>
</head>
<body>
<!--练习1：垃圾桶初始时半透明；拖动小飞机进入垃圾桶变为不透明；离开后重新恢复半透明；
在垃圾桶上松手也变为半透明！提示：只需要用到目标对象的四个事件-->

<div id="target" class="dropzone"></div>

<div id="source" draggable="true">
    This div is draggable
</div>

</body>

<script>
  var dragged;

  /* events fired on the draggable target */
  document.addEventListener("drag", function (event) {

  }, false);

  document.addEventListener("dragstart", function (event) {
    // store a ref. on the dragged elem
    console.dir(event.target);
    dragged = event.target;
    // make it half transparent
    event.target.style.opacity = .5;
  }, false);

  document.addEventListener("dragend", function (event) {
    // reset the transparency
    event.target.style.opacity = "";
  }, false);

  /* events fired on the drop targets */
  document.addEventListener("dragover", function (event) {
    // prevent default to allow drop
    event.preventDefault();
  }, false);

  document.addEventListener("dragenter", function (event) {
    // highlight potential drop target when the draggable element enters it
    if (event.target.className == "dropzone") {
      event.target.style.background = "purple";
    }

  }, false);

  document.addEventListener("dragleave", function (event) {
    // reset background of potential drop target when the draggable element leaves it
    if (event.target.className == "dropzone") {
      event.target.style.background = "";
    }

  }, false);

  document.addEventListener("drop", function (event) {
    // prevent default action (open as link for some elements)
    event.preventDefault();
    // move dragged elem to the selected drop target
    if (event.target.className == "dropzone") {
      event.target.style.background = "";
      dragged.parentNode.removeChild(dragged);
      event.target.appendChild(dragged);
    }

  }, false);
</script>

<!--<script type="text/javascript">-->
  <!--var dragged;-->

  <!--document.addEventListener("drag", function (e) {-->
    <!--//没用-->
  <!--}, false);-->
  <!--document.addEventListener('dragstart', function (e) {-->
    <!--// 全局空间保存 源对象-->
    <!--dragged = e.target;-->
<!--//    e.target.style.opacity = .4;-->
  <!--}, false);-->
  <!--document.addEventListener('dragend', function (e) {-->
<!--//    e.target.style.opacity = 1;-->
  <!--}, false);-->

  <!--/////////////////////-->

  <!--document.addEventListener('dragenter', function (e) {-->
    <!--if (e.target.id = 'target') {-->
      <!--console.log('dragenter+++');-->
<!--//      e.target.style.opacity = .5;-->
    <!--}-->

  <!--}, false);-->
  <!--document.addEventListener('dragleave', function (e) {-->
    <!--// 到底是哪个哥哥的离开，我的判断好！-->
    <!--if (e.target.id = 'target') {-->
      <!--e.target.style.opacity = 1;-->
    <!--}-->
  <!--}, false);-->
  <!--document.addEventListener('drop', function (e) {-->
    <!--// 先阻止默认行为-->
    <!--e.preventDefault();-->
    <!--if (e.target.id = 'target') {-->
<!--//        dragged.parentNode.removeChild(dragged);-->
<!--//        e.target.appendChild(dragged);-->
    <!--}-->
  <!--}, false);-->
<!--</script>-->
</html>