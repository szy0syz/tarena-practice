<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
<!--练习1：垃圾桶初始时半透明；拖动小飞机进入垃圾桶变为不透明；离开后重新恢复半透明；
在垃圾桶上松手也变为半透明！提示：只需要用到目标对象的四个事件-->
<!--<img width="100px" height="50px" style="z-index: 2;position: absolute;top: 20px;left: 50px;" id="plane" src="p3.png" alt="plane">-->

<!--<img src="trash.jpeg" style="opacity: 0.5;position: absolute;top: 300px;left: 300px;" alt="trash" id="trash">-->
<div id="target" style="background-color: #22bb22;width: 400px;height: 400px;display:inline-block;margin: 0 auto;"></div>

<div id="source" style="width: 100px;height: 100px;position: absolute;left: 100px;top: 450px;background-color: red;"></div>
</body>
<script>
  var elem = document.getElementById('source');
  source.draggable = true;
  target.dropable = true;
  source.ondragstart = function (e) {
//    console.log('ondragstart: ', e);
    this.y = parseFloat(this.style.top);
    this.x = parseFloat(this.style.left);
    this.offsetX = e.offsetX;
    this.offsetY = e.offsetY;
  };

  source.ondrag = function (e) {
    if (e.pageX === 0 || e.pageY === 0) {
      this.style.left = this.style.left;
      this.style.top = this.style.top;
      return;
    }
    this.style.left = e.offsetX - this.offsetX + this.x + 'px';
    this.style.top = e.offsetY - this.offsetY + this.y + 'px';
  };

  source.ondragend = function (e) {
    console.dir('ondragend',e);
  };

  target.ondragenter = function (e) {
    console.log('dragenter');
  };
  target.ondragover = function (e) {
    console.log('dragover');
    e.preventDefault();
  };
  target.ondragleave = function (e) {
    console.log('dragleave');
  };
  target.ondrop = function (e) {
    console.log('drop');
  };
</script>
</html>